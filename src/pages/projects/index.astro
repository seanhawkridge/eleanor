---
import Base from '../../layouts/Base.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import { getProjects, getStrapiImageUrl } from '../../lib/strapi';

const projects = await getProjects();
---

<Base title="Projects" description="Browse all of Eleanor's projects">
  <section class="max-w-5xl mx-auto px-6 py-20">
    <h1 class="text-4xl font-bold tracking-tight">Projects</h1>
    <p class="mt-4 text-lg text-gray-600">A collection of selected work.</p>

    <div class="mt-12 grid gap-8 sm:grid-cols-2">
      {projects.map((project) => (
        <ProjectCard
          title={project.title}
          description={project.description}
          image={getStrapiImageUrl(project.image)}
          tags={project.tags ?? []}
          slug={project.slug}
        />
      ))}
    </div>
  </section>
</Base>
